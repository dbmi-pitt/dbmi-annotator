@prefix map: <#> .
@prefix db: <> .
@prefix vocab: <vocab/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix d2rq: <http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#> .
@prefix jdbc: <http://d2rq.org/terms/jdbc/> .
@prefix d2r: <http://sites.wiwiss.fu-berlin.de/suhl/bizer/d2r-server/config.rdf#> .
@prefix meta: <http://www4.wiwiss.fu-berlin.de/bizer/d2r-server/metadata#> .
@prefix obo: <http://purl.obolibrary.org/obo/> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

<> a d2r:Server;
      rdfs:label "D2R Server for mpevidence";
      .

map:database a d2rq:Database;
	d2rq:jdbcDriver "org.postgresql.Driver";
    d2rq:jdbcDSN "jdbc:postgresql://localhost/mpevidence?autoReconnect=true&user=dbmiannotator&password=dbmi2016";   
	.

########################## DIDEO ONTOLOGY MAPPING TABLES ########################### 

## Class DDI description
map:DDI a d2rq:ClassMap;
	d2rq:dataStorage map:database;
    d2rq:uriPattern "http://dikb.org/ddi/@@ohdsi.ct_iw_auc_fold.description_urn@@";
    d2rq:class obo:DIDEO_00000001; ## drug-drug interaction description
    .

map:ddi_has_part a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:DDI;
	d2rq:property obo:BFO_0000051; ## has part
    d2rq:uriPattern "http://dikb.org/auc/@@ohdsi.ct_iw_auc_fold.auc_urn@@";
    .

## Class AUC information 
map:AUC a d2rq:ClassMap;
	d2rq:dataStorage map:database;
    d2rq:uriPattern "http://dikb.org/auc/@@ohdsi.ct_iw_auc_fold.auc_urn@@";
    d2rq:class obo:DIDEO_00000050; ## information about increase of pk area
    .

map:auc_fold_type a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:AUC;
	d2rq:property rdf:type;
    d2rq:constantValue "drug package AUC information"@en;
    .

map:method a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:AUC;
	d2rq:property obo:OBI_0000312; ## is specified output of
    d2rq:uriSqlExpression "CONCAT('http://dikb.org/method/', ohdsi.ct_iw_auc_fold.method_urn)"; 
    .

map:auc_fold a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:AUC;
	d2rq:property obo:OBI_0001937; ## has specified value
    d2rq:uriSqlExpression "CONCAT('http://dikb.org/fold/', ohdsi.ct_iw_auc_fold.fold_urn)"; 
    .

## Class Fold 
map:Fold a d2rq:ClassMap;
    d2rq:uriPattern "http://dikb.org/fold/@@ohdsi.ct_iw_auc_fold.fold_urn@@";
    d2rq:class obo:OBI_0001933; ## value specification
    d2rq:classDefinitionLabel "data ratio fold"@en;
    d2rq:dataStorage map:database;
    .

map:fold_has_part a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:Fold;
	d2rq:property obo:BFO_0000051; ## has part
    d2rq:column "ohdsi.ct_iw_auc_fold.ratio_type"
    .

map:has_specified_value a d2rq:PropertyBridge;
	d2rq:belongsToClassMap map:Fold;
	d2rq:property obo:OBI_0001937; ## has specified value
    d2rq:column "ohdsi.ct_iw_auc_fold.value"
    .